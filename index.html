<!DOCTYPE HTML>
<html>

<head>
  <title>Simulating Electric Charges</title>
  <script src="web/jquery-2.1.0.min.js"></script>
  <script src="web/fraction.js"></script>
  <script src="web/underscore.js"></script>
  <script type="text/javascript" src="object-pool.js"></script>
  <script src="web/raphael-min.js"></script>
  <script src="web/canvas.js"></script>
  <script src="web/electric-charge-sim.js"></script>
</head>

<body>
  <h1></h1>
  <div id="canvas_container" style="float:left"></div>

  <script>
    var canvas = Canvas(document.getElementById("canvas_container"));

    var sim = ElectricChargeSimulator();
    sim("add_particle")(100, 100);

    function putParticlesOnCanvas() {
      canvas("clear")();
      var positions = sim("get_positions")();
      _.each(positions,
        function(position) {
          canvas("add_particle")(position[0], position[1]);
        });
    }

    sim("add_particle")(100, 100);
    sim("add_particle")(150, 200);
    sim("add_particle")(310, 50);

    putParticlesOnCanvas();


     // canvas("add_particle")(100, 100);
  </script>

</body>

</html>

